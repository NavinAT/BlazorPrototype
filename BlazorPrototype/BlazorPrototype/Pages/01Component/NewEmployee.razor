@page "/component"
@using BlazorPrototype.Data

<h3>Component</h3>
<div class="row">
    <div class="col-md-8">
        <div class="form-group">
            <label for="Name">Name*</label>
            <input id="Name" class="form-control" @bind="@_employee.EmployeeName"/>
        </div>
        <div class="form-group">
            <label for="Department">Department*</label>
            <input id="Department" class="form-control" @bind="@_employee.Department"/>

        </div>
        <div class="form-group">
            <label for="Salary">Salary</label>
            <input id="Salary" class="form-control" @bind="@_employee.Salary"/>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-8">
        <div class="form-group">
            <input type="button" class="btn btn-success" @onclick="@CreateEmployee" value="Save"/>
        </div>
    </div>
</div>

<hr/>
@if (!ShowChild)
{
    <img src="https://media2.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif" alt="Loading...."/>
}
else
{
    <ListEmployee DataContext="@_listEmployees"></ListEmployee>
}

@code
{
    private EmployeeInformation _employee;

    private bool ShowChild { get; set; }

    private readonly List<EmployeeInformation> _listEmployees = new List<EmployeeInformation>();

    protected override void OnInitialized()
    {
        _employee = new EmployeeInformation();
    }

    private void CreateEmployee()
    {
        _listEmployees.Add(_employee);
        ShowChild = true;

        StateHasChanged();
    }

}